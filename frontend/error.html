<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Error • <AWS RBAC File Upload></title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex" />
  <meta name="color-scheme" content="light dark" />
  <style>
    :root{
      --bg: #0b0c10;
      --card: #111318;
      --fg: #e6e6e6;
      --muted:#a3a3a3;
      --accent:#7c5cff;
      --accent-2:#00e0b8;
      --border:#22252e;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f7f7fb; --card:#ffffff; --fg:#0b0c10; --muted:#5a5f6a; --border:#e8e8ef;
        --shadow: 0 10px 30px rgba(0,0,0,.08);
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      background: radial-gradient(1200px 800px at 80% -10%, color-mix(in oklab, var(--accent) 15%, transparent) 0%, transparent 60%),
                  radial-gradient(900px 700px at -10% 110%, color-mix(in oklab, var(--accent-2) 18%, transparent) 0%, transparent 60%),
                  var(--bg);
      color: var(--fg);
      display:grid;
      place-items:center;
      padding: 24px;
    }
    .wrap{
      width:min(700px, 100%);
    }
    .card{
      background: linear-gradient(180deg, color-mix(in oklab, var(--card) 92%, transparent) 0%, var(--card) 100%);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: var(--shadow);
      padding: clamp(20px, 3.5vw, 32px);
    }
    .chip{
      display:inline-flex; align-items:center; gap:.5rem;
      border:1px solid var(--border); padding:.35rem .6rem; border-radius:999px;
      font-size:.82rem; color:var(--muted); background: color-mix(in oklab, var(--card) 85%, transparent);
    }
    .grid{
      display:grid; gap:1rem; grid-template-columns: 1fr; align-items:center;
    }
    .hero{
      display:flex; align-items:center; gap:14px; margin: 10px 0 6px;
    }
    h1{
      font-size: clamp(1.6rem, 3.4vw, 2.2rem); margin:0; line-height:1.15;
      letter-spacing:-.015em;
    }
    p{margin:.35rem 0; color: var(--muted)}
    .actions{display:flex; flex-wrap:wrap; gap:.6rem; margin-top: 16px}
    .btn{
      appearance:none; border:1px solid var(--border);
      background: color-mix(in oklab, var(--card) 92%, transparent);
      color: var(--fg); padding:.7rem 1rem; border-radius:12px;
      text-decoration:none; font-weight:600; display:inline-flex; align-items:center; gap:.5rem;
      cursor:pointer; transition: transform .06s ease, background .15s ease, border-color .2s ease;
    }
    .btn:hover{ transform: translateY(-1px); border-color: color-mix(in oklab, var(--accent) 30%, var(--border)); }
    .btn.primary{
      border-color: transparent;
      background: linear-gradient(135deg, color-mix(in oklab, var(--accent) 75%, black 0%) 0%, color-mix(in oklab, var(--accent-2) 75%, black 0%) 100%);
      color: white;
    }
    .btn.ghost{ background: transparent }
    code.kv{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      background: color-mix(in oklab, var(--card) 86%, transparent);
      border: 1px dashed var(--border);
      padding: .35rem .5rem; border-radius: 8px; display:inline-block; margin-top:.5rem; color: var(--muted);
    }
    .foot{margin-top:.8rem; display:flex; justify-content:space-between; gap:.6rem; flex-wrap:wrap}
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}
    .icon{width:40px; height:40px}
    .hint{font-size:.85rem; color: var(--muted)}
    @media (min-width: 720px){
      .grid{ grid-template-columns: 64px 1fr }
    }
  </style>
</head>
<body>
  <main class="wrap" role="main">
    <div class="card" role="alert" aria-live="polite">
      <span class="chip" id="chip">
        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M11.05 2.53a2 2 0 0 1 1.9 0l8.16 4.36A2 2 0 0 1 22 8.66v6.68a2 2 0 0 1-1.89 1.77l-8.16 4.36a2 2 0 0 1-1.9 0L1.89 17.11A2 2 0 0 1 0 15.34V8.66a2 2 0 0 1 1.89-1.77l9.16-4.36Z" fill="currentColor" opacity=".08"/>
          <path d="M12 7a1 1 0 0 1 .99.86l.01.14v5a1 1 0 0 1-1.99.14l-.01-.14v-5A1 1 0 0 1 12 7Zm0 9a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z" fill="currentColor"/>
        </svg>
        <span id="chipText">Unexpected error</span>
      </span>

      <div class="grid">
        <div aria-hidden="true"></div>
        <div>
          <div class="hero">
            <h1 id="title">Something went wrong</h1>
          </div>
          <p id="desc">The page you’re looking for might have been removed, had its name changed, or is temporarily unavailable.</p>

          <div class="actions">
            <a class="btn primary" href="/" id="homeBtn" aria-label="Go to homepage">Go home</a>
            <button class="btn" type="button" onclick="window.location.reload()" aria-label="Retry loading the page">Retry</button>
            <a class="btn ghost" href="mailto:support@example.com?subject=Site%20error" id="reportBtn">Report issue</a>
          </div>

          <div class="foot">
            <span class="hint">
              <span id="codeWrap">Error code: <strong id="code">500</strong></span>
              <span class="hint">•</span>
              <span id="ridWrap">Request ID: <code class="kv" id="rid">auto-generated</code></span>
            </span>
            <span class="hint" id="ts"></span>
          </div>
        </div>
      </div>
    </div>
    <p class="hint" style="text-align:center;margin-top:.8rem">
      Tip: you can override this page title, message, and code using query params (see source).
    </p>
  </main>

  <script>
    // --- Minimal client-side customization via query params ---
    // Example: /error.html?code=404&message=Not%20Found&title=Page%20not%20found
    (function () {
      const params = new URLSearchParams(location.search);

      const code   = params.get("code") || "500";
      const title  = params.get("title") || (code === "404" ? "Page not found" : "Something went wrong");
      const msg    = params.get("message") || (code === "404"
                        ? "We couldn't find the page you requested."
                        : "The page is temporarily unavailable or something broke on our end.");

      // Optional: change home URL (e.g., to '/app')
      const home   = params.get("home") || "/";

      // Optional: support email override
      const support = params.get("support") || "support@example.com";

      // Render
      document.getElementById("code").textContent  = code;
      document.getElementById("title").textContent = title;
      document.getElementById("desc").textContent  = msg;
      document.getElementById("homeBtn").setAttribute("href", home);
      document.getElementById("reportBtn").setAttribute("href",
        `mailto:${support}?subject=Site%20error%20${encodeURIComponent(code)}&body=${encodeURIComponent(location.href)}`);

      const chipText = document.getElementById("chipText");
      chipText.textContent = code === "404" ? "Not found" :
                             code === "401" ? "Unauthorized" :
                             code === "403" ? "Forbidden" :
                             code === "502" ? "Bad gateway" :
                             code === "503" ? "Service unavailable" :
                             "Unexpected error";

      // Request ID (pseudo) + timestamp for easier debugging on static hosts
      const rid = (crypto && crypto.randomUUID) ? crypto.randomUUID() :
                  Math.random().toString(36).slice(2) + Date.now().toString(36);
      document.getElementById("rid").textContent = rid;
      document.getElementById("ts").textContent = new Date().toLocaleString();

      // If a static host injects an x-amz-error-code-like marker in the URL fragment, capture it
      if (location.hash && !params.get("code")) {
        const hashCode = location.hash.match(/(\d{3})/);
        if (hashCode) document.getElementById("code").textContent = hashCode[1];
      }

      // If you deploy behind CloudFront/S3 and want to hide this hint, remove the paragraph under <main>.
    })();
  </script>
</body>
</html>
